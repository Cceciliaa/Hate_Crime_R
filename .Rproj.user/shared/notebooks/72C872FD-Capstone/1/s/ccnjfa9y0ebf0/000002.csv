"0","yearly_agg <- "
"0","  read_xls(""2008.xls"") %>%"
"0","  summarize(`2008` = sum(Total_icd) / sum(Total_pop) * 100000)"
"0",""
"0","k <- 2"
"0",""
"0","for (i in c(2009:2017)) {"
"0","  agg_each <- read_xls(paste(as.character(i), "".xls"", sep="""")) %>%"
"0","    summarize(total = sum(Total_icd) / sum(Total_pop) * 100000)"
"0","  yearly_agg <- yearly_agg %>%"
"0","    mutate(new = agg_each$total)"
"0","  names(yearly_agg)[k] <- as.character(i)"
"0","  k <- k + 1"
"0","}"
"0",""
"0","yearly_agg <- "
"0","  yearly_agg %>%"
"0","  gather(key = ""year"", value = ""agg"")"
"0",""
"0","yearly_agg %>%"
"0","  ggplot() +"
"0","  geom_line(aes(x=as.numeric(year), y=as.numeric(agg)), color = ""red"", size = 1, show.legend=FALSE) +"
"0","  geom_point(aes(x=as.numeric(year), y=as.numeric(agg)), color = ""blue"", show.legend=FALSE) +"
"0","  scale_x_continuous(breaks = c(2008:2017)) +"
"0","  labs("
"0","    title = ""Aggregated number of hate crimes each year per 100k (2008-2017)"","
"0","    x = ""Year"","
"0","    y = ""Hate crimes per 100k"""
"0","  ) + "
"0","  theme_bw() +"
"0","  theme("
"0","    plot.margin = unit(c(2,2,2,1), ""cm""),"
"0","    plot.title = element_text(hjust = 0.4, face = ""bold"", size = 15),"
"0","    text = element_text(size=13)"
"0","  ) "
"0",""
